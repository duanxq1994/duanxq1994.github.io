<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>笔记</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2019-11-14T16:45:32.833Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>duan</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>guava Maps</title>
    <link href="http://yoursite.com/2019/11/14/Maps/"/>
    <id>http://yoursite.com/2019/11/14/Maps/</id>
    <published>2019-11-14T10:22:14.000Z</published>
    <updated>2019-11-14T16:45:32.833Z</updated>
    
    <content type="html"><![CDATA[<h3 id="关于Maps的用法，做一下整理"><a href="#关于Maps的用法，做一下整理" class="headerlink" title="关于Maps的用法，做一下整理"></a>关于Maps的用法，做一下整理</h3><p>google的guava包，有很多实用的工具类，可以轻易实现工作中一些常用的功能。</p>
<h3 id="maven-依赖"><a href="#maven-依赖" class="headerlink" title="maven 依赖"></a>maven 依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.guava<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>guava<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>28.1-jre<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> com.google.common.collect.*;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Arrays;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">        <span class="comment">// constant map</span></div><div class="line">        ImmutableMap&lt;Integer, String&gt; map = ImmutableMap.&lt;Integer, String&gt;builder()</div><div class="line">                .put(<span class="number">1</span>, <span class="string">"1"</span>)</div><div class="line">                .put(<span class="number">2</span>, <span class="string">"2"</span>)</div><div class="line">                .build();</div><div class="line">        System.out.println(map);</div><div class="line"></div><div class="line">        <span class="comment">// 双向映射</span></div><div class="line">        ImmutableBiMap&lt;String, String&gt; biMap = ImmutableBiMap.&lt;String, String&gt;builder()</div><div class="line">                .put(<span class="string">"a"</span>, <span class="string">"阿迪"</span>)</div><div class="line">                .put(<span class="string">"b"</span>, <span class="string">"百世"</span>)</div><div class="line">                .put(<span class="string">"c"</span>, <span class="string">"财通"</span>)</div><div class="line">                .put(<span class="string">"d"</span>, <span class="string">"大华"</span>)</div><div class="line">                .put(<span class="string">"e"</span>, <span class="string">"e支付"</span>)</div><div class="line">                .build();</div><div class="line">        System.out.println(biMap.get(<span class="string">"c"</span>));</div><div class="line">        System.out.println(biMap.inverse().get(<span class="string">"百世"</span>));</div><div class="line">        </div><div class="line">        <span class="comment">// list 转 map</span></div><div class="line">        <span class="comment">// list&lt;V&gt; -&gt; map&lt;K,V&gt;</span></div><div class="line">        List&lt;Integer&gt; list1 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</div><div class="line">        <span class="comment">// key 唯一</span></div><div class="line">        ImmutableMap&lt;String, Integer&gt; immutableMap = Maps.uniqueIndex(list1, String::valueOf);</div><div class="line">        System.out.println(immutableMap);</div><div class="line">        List&lt;Integer&gt; list2 = Arrays.asList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">5</span>);</div><div class="line">        <span class="comment">// key 重复</span></div><div class="line">        ImmutableMultimap&lt;String, Integer&gt; index = Multimaps.index(list2, String::valueOf);</div><div class="line">        System.out.println(index);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;关于Maps的用法，做一下整理&quot;&gt;&lt;a href=&quot;#关于Maps的用法，做一下整理&quot; class=&quot;headerlink&quot; title=&quot;关于Maps的用法，做一下整理&quot;&gt;&lt;/a&gt;关于Maps的用法，做一下整理&lt;/h3&gt;&lt;p&gt;google的guava包，有很多实
    
    </summary>
    
      <category term="guava" scheme="http://yoursite.com/categories/guava/"/>
    
    
      <category term="guava" scheme="http://yoursite.com/tags/guava/"/>
    
  </entry>
  
  <entry>
    <title>使用 httpclient 发送post请求</title>
    <link href="http://yoursite.com/2017/08/17/http/"/>
    <id>http://yoursite.com/2017/08/17/http/</id>
    <published>2017-08-17T15:24:51.000Z</published>
    <updated>2019-11-14T16:41:59.404Z</updated>
    
    <content type="html"><![CDATA[<h3 id="maven-依赖"><a href="#maven-依赖" class="headerlink" title="maven 依赖"></a>maven 依赖</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.httpcomponents<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>httpmime<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.3.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> org.apache.http.HttpEntity;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.methods.CloseableHttpResponse;</div><div class="line"><span class="keyword">import</span> org.apache.http.client.methods.HttpPost;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.ContentType;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.mime.HttpMultipartMode;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.mime.MultipartEntityBuilder;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.mime.content.ByteArrayBody;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.mime.content.FileBody;</div><div class="line"><span class="keyword">import</span> org.apache.http.entity.mime.content.InputStreamBody;</div><div class="line"><span class="keyword">import</span> org.apache.http.impl.client.CloseableHttpClient;</div><div class="line"><span class="keyword">import</span> org.apache.http.impl.client.HttpClients;</div><div class="line"><span class="keyword">import</span> org.apache.http.util.EntityUtils;</div><div class="line"><span class="keyword">import</span> org.springframework.util.FileCopyUtils;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.File;</div><div class="line"><span class="keyword">import</span> java.io.FileInputStream;</div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.nio.charset.StandardCharsets;</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</div><div class="line"></div><div class="line">        String url = <span class="string">"http://localhost:8001/test.json"</span>;</div><div class="line">        String fieldName = <span class="string">"file"</span>;<span class="comment">//接收字段名称</span></div><div class="line">        File file = <span class="keyword">new</span> File(<span class="string">"C:\\Users\\Admin\\Desktop\\example.png"</span>);</div><div class="line">        String fileName = file.getName();<span class="comment">//文件名称</span></div><div class="line">        CloseableHttpClient client = HttpClients.createDefault();</div><div class="line">        HttpPost httpPost = <span class="keyword">new</span> HttpPost(url);</div><div class="line">        MultipartEntityBuilder builder = MultipartEntityBuilder.create();</div><div class="line">        <span class="comment">//设置兼容模式，防止中文文件名乱码</span></div><div class="line">        builder.setCharset(StandardCharsets.UTF_8);</div><div class="line">        builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);</div><div class="line">        builder.addTextBody(<span class="string">"key"</span>, <span class="string">"编码"</span>, ContentType.DEFAULT_TEXT.withCharset(StandardCharsets.UTF_8));<span class="comment">// 没有后面这个编码，中文会乱码</span></div><div class="line">        <span class="comment">//下面是三种发送文件的方式 file、inputStream、byte[]</span></div><div class="line">        <span class="comment">//三种方式可以同时存在</span></div><div class="line">        builder.addPart(fieldName, <span class="keyword">new</span> FileBody(file));<span class="comment">//1</span></div><div class="line">        builder.addPart(fieldName, <span class="keyword">new</span> ByteArrayBody(FileCopyUtils.copyToByteArray(file), fileName));<span class="comment">//2</span></div><div class="line">        builder.addPart(fieldName, <span class="keyword">new</span> InputStreamBody(<span class="keyword">new</span> FileInputStream(file), fileName));<span class="comment">//3</span></div><div class="line">        <span class="comment">// 2、3两种方式fileName是关键</span></div><div class="line">        <span class="comment">// 4、5这种是没有传fileName的</span></div><div class="line">        <span class="comment">// 没有fileName字段的话 spring mvc multipartFile接收不到文件</span></div><div class="line">        <span class="comment">// 可以request.getPart(fieldName).getInputStream()</span></div><div class="line">        builder.addBinaryBody(fieldName, FileCopyUtils.copyToByteArray(file));<span class="comment">//4</span></div><div class="line">        builder.addBinaryBody(fieldName, <span class="keyword">new</span> FileInputStream(file));<span class="comment">//5</span></div><div class="line"></div><div class="line">        httpPost.setEntity(builder.build());</div><div class="line">        CloseableHttpResponse execute = client.execute(httpPost);</div><div class="line">        <span class="keyword">if</span> (execute.getStatusLine().getStatusCode() == <span class="number">200</span>) &#123;</div><div class="line">            HttpEntity entity = execute.getEntity();</div><div class="line">            System.out.println(EntityUtils.toString(entity));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;maven-依赖&quot;&gt;&lt;a href=&quot;#maven-依赖&quot; class=&quot;headerlink&quot; title=&quot;maven 依赖&quot;&gt;&lt;/a&gt;maven 依赖&lt;/h3&gt;&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td clas
    
    </summary>
    
      <category term="http" scheme="http://yoursite.com/categories/http/"/>
    
    
      <category term="http" scheme="http://yoursite.com/tags/http/"/>
    
  </entry>
  
  <entry>
    <title>git 方面</title>
    <link href="http://yoursite.com/2017/08/06/git-%E6%96%B9%E9%9D%A2/"/>
    <id>http://yoursite.com/2017/08/06/git-方面/</id>
    <published>2017-08-06T12:13:48.000Z</published>
    <updated>2019-11-14T16:41:59.404Z</updated>
    
    <content type="html"><![CDATA[<h2 id="接触git"><a href="#接触git" class="headerlink" title="接触git"></a>接触git</h2><p>我刚开始接触git是在15年8月份，那时刚毕业，第一份工作。<br>当时同事建议使用<a href="https://www.sourcetreeapp.com/" target="_blank" rel="external">sourceTree</a>（git图形化工具），很好用，功能很强大。各种操作、状态都很简单而且直观，便于操作。<br>尤其是当你理解了git的操作流程以后，各种merge、cherry-pick、reset、rebase等等操作，使用起来很方便，graph也非常的直观。</p>
<h2 id="进阶"><a href="#进阶" class="headerlink" title="进阶"></a>进阶</h2><p>后面接触到了<a href="https://www.jetbrains.com/idea/" target="_blank" rel="external">IDEA</a>，它里面自带了版本控制，功能、实用性、外观都可以和sourceTree相媲美，因为idea基本每天都要使用，sourceTree也就不怎么打开了，后面使用就少了。<br>前不久一同事让我帮忙把一个本地项目上传到git服务上建立一个分支，他本地只有git客户端，当时我就想这还不简单，但后来事实是，我折腾了半天也没有把项目从服务器上clone下来。<br>因为我对git命令行完全不熟悉，git-gui也所知甚少。后来我回到自己座位上，上网找了下gui的使用方法，也成功的从线上clone下来了，基本操作也照着走了一遍。认为也没什么难得就这样。<br>昨天看了一篇文章，讲的是hexo，也就是现在在使用的东西，今天闲来无事，也就摸索摸索。因为其中又涉及到git的操作，我突然冒出一个想法，想用git命令行走一遍流程，不用说也知道，各种问题<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git init</div></pre></td></tr></table></figure></p>
<p>这个命令我甚至是第一次用到，还有很多命令，我也是基本没有使用过<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git <span class="built_in">clone</span> ** dir</div><div class="line">$ git remote add origin **</div></pre></td></tr></table></figure></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>有句话叫 “使用命令行的瞧不起用图像界面的”，想想可能真的不全是在装逼<br>命令行是最能体现作者设计的初衷，或许使用图形界面的你，照样可以操作的行云流水，但会使用命令行操作，理解软件的本质，对你的理解、运用会大有裨益。</p>
<h3 id="千万不要会用了，就万事大吉了，要多去思考，探索总是好的"><a href="#千万不要会用了，就万事大吉了，要多去思考，探索总是好的" class="headerlink" title="千万不要会用了，就万事大吉了，要多去思考，探索总是好的"></a>千万不要会用了，就万事大吉了，要多去思考，探索总是好的</h3>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;接触git&quot;&gt;&lt;a href=&quot;#接触git&quot; class=&quot;headerlink&quot; title=&quot;接触git&quot;&gt;&lt;/a&gt;接触git&lt;/h2&gt;&lt;p&gt;我刚开始接触git是在15年8月份，那时刚毕业，第一份工作。&lt;br&gt;当时同事建议使用&lt;a href=&quot;https:/
    
    </summary>
    
      <category term="git" scheme="http://yoursite.com/categories/git/"/>
    
    
      <category term="git" scheme="http://yoursite.com/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yoursite.com/2017/08/06/hello-world/"/>
    <id>http://yoursite.com/2017/08/06/hello-world/</id>
    <published>2017-08-06T12:10:40.000Z</published>
    <updated>2017-08-23T15:53:52.067Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="external">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="external">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="external">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="external">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo new <span class="string">"My New Post"</span></div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="external">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo server</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="external">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo generate</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="external">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ hexo deploy</div></pre></td></tr></table></figure>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="external">Deployment</a></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
    
    </summary>
    
      <category term="hello" scheme="http://yoursite.com/categories/hello/"/>
    
    
      <category term="hello" scheme="http://yoursite.com/tags/hello/"/>
    
  </entry>
  
</feed>
